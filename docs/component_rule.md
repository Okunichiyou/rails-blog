# コンポーネントルール
## ディレクトリ構成
- 以下の分類を行う
- 以下のディレクトリの中に更にサブディレクトリを用意することは行わない
  - namespaceが深くなって読みづらい
  - cssやjsを一緒に閉じ込められないので階層を切っておくメリットが低い

```
app/components
├── domain
├── page
└── ui
```

### domain
- Active RecordのオブジェクトやAPIレスポンスのオブジェクトなど、アプリケーション固有の情報を汎用コンポーネントに置き換える事が責務

### page
- action viewから引数を受け取るコンポーネント
- viewファイルは何の情報を欲しているのかが分かりづらいので、コンポーネントのインターフェースを用意するのが目的

###  ui
- ボタンとか、カードとか見た目のパーツを扱うコンポーネント
- 引数はキーワード引数を使っていく
  - 仕様変更で引数が増えていく事は割と考えられ、位置引数だと順番変更のバグを意識する必要が出てくるので安全さを重視する
- キーワードを用意するものは、以下のパターンのどれかに当てはまるもの
  - 入力必須にしたいもの
  - デフォルト値を設定したいもの
  - HTML属性やイベント属性でない、コンポーネントのロジックのために受け入れたいもの
    - ex: buttonでいうアイコンみたいに、HTMLでデフォルトで用意されていないもの
- 引数を用意する際は、filter_attributeメソッドでフィルターすることを検討する
  - 何の属性を期待しているかを明確にするために、コンポーネントクラス内でホワイトリストを用意し、受け入れ可能な値を明示しておく
- コンポーネント内の一番上の階層にはdata-scopeを付与する
  - cssのscopeをコンポーネント内に閉じ込めるために、data-scope属性を付与しておく
  - `Ui::Base#build_options`を呼び出せば付与する事が出来る