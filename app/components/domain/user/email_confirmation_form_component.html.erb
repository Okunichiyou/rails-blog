<div <%= tag.attributes(@html_options) %> >
  <%= form_with(model: @form, url: @confirmation_path, as: @resource_name, html: { method: :post, class: "email-confirmation-form flex flex-col gap-4" }) do |f| %>
    <% flash.each do |type, message| %>
      <%= render Ui::FlashComponent.new(flash_type: type.to_sym) do |c| %>
        <%- c.with_flash_content do %>
          <%= message %>
        <% end %>
      <% end %>
    <% end %>

    <div class="field">
      <%= f.label :email, "Email", class: "block" %>
      <%= render Ui::EmailFieldComponent.new(
        builder: f,
        method: :email,
        size: :medium,
        variant: @form.errors[:email].any? ? :alert : :default,
        html_options: { autofocus: true, autocomplete: "email" }
      ) %>
      <%= render Ui::FieldErrorsComponent.new(error_messages: @form.errors.full_messages_for(:email)) %>
    </div>

    <div class="actions">
      <%= render Ui::ButtonComponent.new(category: :primary, size: :medium, type: :submit, text: "送信") %>
    </div>
    </div>
  <% end %>
</div>